!function(){function n(n){var a=n.replace("remove_btn_",""),t="app=wan&action=rm_vwan&wan="+a;$.post("/",t,function(n){Ha.showNotify(n),n.status||$("#"+a+"_container").remove()},"json")}$('form,input,[type="submit"]').prop("disabled",!0),$.post("/",{app:"wan",action:"wan_check_net"},function(n){for(var a in n)n[a].status?($("#wanType_"+a).html("<span class='text-danger'>"+UI.Connecting_Internet_Fail+"</span>"),$("#wanSet_"+a).find('form,input,[type="submit"]').prop("disabled",!1)):($("#wanType_"+a).html(UI.Connecting_Internet_Successfull),$("#wanSet_"+a).addClass("hidden"),$("#"+a+"_info").removeClass("hidden"),$("#"+a+"_info_ip").html(n[a].ip),$("#"+a+"_info_mask").html(n[a].mask),$("#"+a+"_info_gateway").html(n[a].gateway),$("#"+a+"_info_dns").html(n[a].dns))},"json"),$(".show-set-btn").on("click",function(){var n=$(this).attr("id"),a=n.replace("_set_btn","");$("#"+a+"_info").addClass("hidden"),$("#wanSet_"+a).removeClass("hidden"),$("#wanSet_"+a).find('form,input,[type="submit"]').prop("disabled",!1)}),$("[data-validate]").bind("keyup blur",Validate.checkInput),$("form").submit(function(){return $(this).find("[data-validate]").trigger("keyup"),!1}),$(".tab-content").find("form").on("submit",function(){var n=$(this),a=n.find('[type="submit"]').attr("data-order"),t="app=wan&action=wan_"+n.attr("name")+"&wan="+a+"&"+n.serialize();return!n.find(".has-error").length&&(Ha.ajax("/","json",t,"post"),!1)}),$(".adv_btn").click(function(){var n=$(this).attr("data-for"),a=$(this).find("span").hasClass("icon-plus");a?($("#"+n).removeClass("hidden"),$(this).find("span").removeClass("icon-plus").addClass("icon-minus")):($("#"+n).addClass("hidden"),$(this).find("span").removeClass("icon-minus").addClass("icon-plus")),Ha.setFooterPosition()}),$(".submit_clone").click(function(){var n=$(this).attr("data-wan"),a=$("#switch_"+n+"_clone").prop("checked")?1:0,t="app=wan&action=clone_nic&wan="+n+"&proto_config="+a;Ha.ajax("/","json",t,"post")}),$(".remove_vwan_btn").click(function(){var a=$(this).prop("id"),t=a.replace("remove_btn_",""),i=UI.Are_you_sure_to_remove+t+"?";Ha.alterModal("confirmModal",UI.Remove_wan,i,n,a)}),$($(".submit_mac").get(0).form).submit(function(){var n=$(this).find(".submit_mac").attr("data-wan"),a=$("#macaddr_"+n).val(),t="app=wan&action=set_macaddr&wan="+n+"&mac="+a;$(this).find(".has-error").length||$.post("/",t,function(n){Ha.showNotify(n)},"json")}),$(".ip_limit_container").submit(function(){var n=$(this).prop("id").replace("ip_limit_container_",""),a=$("#"+n+"_ip_limit_enable").prop("checked")?1:0,t=$("#"+n+"_ip_limit_reverse").prop("checked")?1:0,i=$("#ip_limit_container_"+n).find('[name="ip_limit_range"]').val(),e=$("#ip_limit_container_"+n).find('[name="ip_limit_times"]').val(),o="enable="+a+"&reverse="+t+"&range="+i+"&times="+e;return!$(this).find(".has-error").length&&void $.post("/","app=wan&action=ip_limit&wan="+n+"&"+o,function(n){Ha.showNotify(n)},"json")})}();