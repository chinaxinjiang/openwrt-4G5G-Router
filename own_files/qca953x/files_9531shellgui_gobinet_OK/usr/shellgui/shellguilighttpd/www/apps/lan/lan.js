!function(){function a(a){var t=a.attr("data-order"),i="app=lan&action=ip_mask_tip&lan="+t+"&"+a.serialize();console.log(i);a.prop("id");return $.post("/",i,function(a){Ha.reableForm("dhcp_"+t);var i=$("#dhcp_"+t);i.find('[name="start_ip_prefix"]').html(a.start_ip_prefix),i.find('[name="end_ip"]').val(a.end_ip),i.find('[name="max_ips"]').html(a.max_ips),1==a.status&&(Ha.showNotify(a),Ha.disableForm("dhcp_"+t))},"json"),!1}function t(a){if(Ha.showNotify(a),a&&0==a.status){var t=$("#"+t).attr("data-order"),i=$("#dhcp_"+t);i.find('[name="start_ip_prefix"]').html(a.start_ip_prefix),i.find('[name="end_ip"]').val(a.end_ip),i.find('[name="max_ips"]').html(a.max_ips)}}$('[name="netmask"]').change(function(){var t=$($(this).prop("form"));a(t)}),$('[name="ip"]').keyup(function(){var t=$($(this).prop("form")),i=$(this).val(),n=Validate.vaIP(i)||Validate.vaLength(i);n||a(t)}),$('[data-target="#confirmModal"]').click(function(){var a=$(this).attr("data-order");$("#confirm_submit").attr("data-order",a)}),$("#confirm_submit").click(function(){var a=$(this).attr("data-order"),i=$("#lan_ip_mask_"+a),n="app=lan&action=lan_ip_mask&lan="+a+"&"+i.serialize(),r=i.prop("id");Ha.ajax("/","json",n,"post",r,t,1)}),$('[name="switch-lan"]').click(function(){var a=$(this).prop("checked"),t=$(this).attr("data-order"),i="dhcp_"+t;if(a){Ha.reableForm(i);var n="app=lan&action=dhcp_server_switch&lanzone="+t+"&enabled=1";Ha.ajax("/","json",n,"post","",Ha.showNotify,1)}else{Ha.disableForm(i);var n="app=lan&action=dhcp_server_switch&lanzone="+t+"&enabled=0";Ha.ajax("/","json",n,"post","",Ha.showNotify,1)}}),$('[name="lan_ip_mask"]').submit(function(){return!1}),$('[name="dhcp"]').submit(function(){$(this).find("[data-validate]").trigger("keyup");var a=$(this),t=a.attr("data-order"),i="app=lan&action=lan_dhcp_mask&lan="+t+"&"+a.serialize();return!$(this).find(".has-error").length&&(Ha.ajax("/","json",i,"post",a.prop("id"),Ha.showNotify,1),!1)}),$("[data-validate]").bind("keyup blur",Validate.checkInput)}();