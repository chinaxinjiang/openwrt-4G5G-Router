function submitMwan(t){var e=$("#"+t).find('[type="checkbox"]').prop("checked"),a=e?0:1;console.log(a);var o="app=mwan3&action=enable_mwan3&enabled="+a;$.post("/",o,function(a){Ha.showNotify(a);var o=1!=a.status,i=e;Ha.setSwitchBtn(t,o,i),console.log($("#"+t).find('[type="checkbox"]').prop("checked"))},"json")}function submitWan(t){var e=$("#"+t).find('[type="checkbox"]').prop("checked"),a=e?0:1,o=$("#"+t).find('[type="checkbox"]').prop("id").replace("switch_",""),i="app=mwan3&action=enable_wan&wan="+o+"&enabled="+a;$.post("/",i,function(a){Ha.showNotify(a);var o=1!=a.status,i=e;Ha.setSwitchBtn(t,o,i)},"json")}function removeWan(t){var e="app=mwan3&action=rm_wan&wan="+t;$.post("/",e,function(e){Ha.showNotify(e),e.status||$("#wan_list_"+t).remove()},"json")}function removeMember(t){var e="app=mwan3&action=rm_member&member="+t;$.post("/",e,function(e){Ha.showNotify(e),e.status||$("#member_list_"+t).remove()},"json")}function removePolicy(t){var e="app=mwan3&action=rm_policy&policy="+t;$.post("/",e,function(e){Ha.showNotify(e),e.status||$("#policy_list_"+t).remove()},"json")}function removeRule(t){var e="app=mwan3&action=rm_rule&rule="+t;$.post("/",e,function(e){Ha.showNotify(e),e.status||$("#policy_list_"+t).remove()},"json")}$("#switch_mwan_radio0").click(function(){var t=$(this).find('[type="checkbox"]').prop("checked"),e=t?"关闭？":"开启？";Ha.alterModal("confirmModal","Mwan3",e,submitMwan,"switch_mwan_radio0")}),$('[data-switch="wan"]').click(function(){var t=$(this).find('[type="checkbox"]').prop("checked"),e=$(this).prop("id"),a=t?"关闭？":"开启？";Ha.alterModal("confirmModal","Wan",a,submitWan,e)}),$("form").submit(function(){return $(this).find("[data-validate]").trigger("keyup"),!1}),$("[data-validate]").bind("keyup blur",Validate.checkInput),$(".metric_input").trigger("keyup"),$(".metric_btn").click(function(){var t=$(this).parent().find("input").val(),e=$(this).prop("id").replace("submit_","");if(Validate.vaInt(t,0,255))return $(this).next(".help-block").removeClass("hidden"),$(this).prop("disabled",!0),!1;var a="app=mwan3&action=edit_wan_metric&wan="+e+"&metric="+t;$.post("/",a,function(t){Ha.showNotify(t)},"json")}),$('[data-switch="remove-wan"]').click(function(){var t=$(this).attr("data-wan");Ha.alterModal("confirmModal","Wan-remove","R U Sure to remove this wan?",removeWan,t)}),$('[data-switch="remove-member"]').click(function(){var t=$(this).attr("data-member");Ha.alterModal("confirmModal","Member-remove","R U Sure to remove this Member?",removeMember,t)}),$('[data-switch="remove-policy"]').click(function(){var t=$(this).attr("data-policy");Ha.alterModal("confirmModal","policy-remove","R U Sure to remove this policy?",removePolicy,t)}),$('[data-switch="remove-rule"]').click(function(){var t=$(this).attr("data-rule");Ha.alterModal("confirmModal","policy-rule","R U Sure to remove this rule?",removeRule,t)}),$("#set_wan").submit(function(){var t=$(this).find(".has-error").length;if(t)return!1;var e=$("#set_wan").serialize(),a="app=mwan3&action=do_edit_wan&"+e;return $.post("/",a,function(t){Ha.showNotify(t)},"json"),!1}),$("#set_member").submit(function(){var t=$(this).find(".has-error").length;if(t)return!1;var e=$("#set_member").serialize(),a="app=mwan3&action=do_edit_member&"+e;return $.post("/",a,function(t){Ha.showNotify(t)},"json"),!1}),$("#set_policy").submit(function(){var t=$(this).serialize(),e="app=mwan3&action=do_edit_policy&"+t;return $.post("/",e,function(t){Ha.showNotify(t)},"json"),!1}),$("#set_rule").submit(function(){var t=$(this).find(".has-error").length;if(t)return!1;var e=$("#set_rule").serialize(),a="app=mwan3&action=do_edit_rule&"+e;return $.post("/",a,function(t){Ha.showNotify(t)},"json"),!1});